<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#1a73e8">

  <!-- SEO 기본 -->
  <title>Local Guides Leaderboard - 구글 로컬 가이드 랭킹</title>
  <meta name="description" content="Google Maps 로컬 가이드 리더보드. 포인트, 리뷰, 사진 기여도를 추적하고 전세계 로컬 가이드들과 순위를 비교하세요. Local Guides ranking and statistics.">
  <meta name="keywords" content="로컬가이드, Local Guides, Google Maps, 구글맵, 리더보드, leaderboard, 랭킹, ranking, 포인트, points, 리뷰, reviews, 사진, photos, 기여도, contributions">
  <meta name="author" content="Local Guides Community">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://notoow.github.io/google-maps-local-guides-leaderboards/">

  <!-- Open Graph / Facebook / 카카오톡 -->
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="Local Guides Leaderboard">
  <meta property="og:title" content="Local Guides Leaderboard - 구글 로컬 가이드 랭킹">
  <meta property="og:description" content="Google Maps 로컬 가이드들의 기여도를 추적하고 순위를 확인하세요. 포인트, 리뷰, 사진 통계를 한눈에!">
  <meta property="og:image" content="https://notoow.github.io/google-maps-local-guides-leaderboards/assets/og-image.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:url" content="https://notoow.github.io/google-maps-local-guides-leaderboards/">
  <meta property="og:locale" content="ko_KR">
  <meta property="og:locale:alternate" content="en_US">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Local Guides Leaderboard - 구글 로컬 가이드 랭킹">
  <meta name="twitter:description" content="Google Maps 로컬 가이드들의 기여도를 추적하고 순위를 확인하세요">
  <meta name="twitter:image" content="https://notoow.github.io/google-maps-local-guides-leaderboards/assets/og-image.png">

  <!-- 네이버 웹마스터 도구 -->
  <meta name="naver-site-verification" content="6704e48a4f009fb605f6dfe64313b5a42744baef" />

  <!-- 구글 서치 콘솔 (나중에 인증 코드 추가) -->
  <!-- <meta name="google-site-verification" content="YOUR_GOOGLE_CODE"> -->

  <!-- Bing 웹마스터 도구 -->
  <meta name="msvalidate.01" content="9B06FA5906A32047201233D1B965F520" />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='%231a73e8' d='M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z'/><circle fill='white' cx='12' cy='9' r='2.5'/></svg>">

  <!-- In-app Browser Redirect (must be first) -->
  <script src="src/js/utils/inapp-redirect.js"></script>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Styles -->
  <link rel="stylesheet" href="src/css/variables.css">
  <link rel="stylesheet" href="src/css/reset.css">
  <link rel="stylesheet" href="src/css/components.css">
  <link rel="stylesheet" href="src/css/layout.css">
  <link rel="stylesheet" href="src/css/leaderboard.css">
  <link rel="stylesheet" href="src/css/responsive.css">
</head>
<body>
  <div id="app">
    <!-- Header -->
    <header class="header">
      <div class="container">
        <a href="index.html" class="header__logo">
          <svg class="header__icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z" fill="currentColor"/>
            <circle cx="12" cy="9" r="2.5" fill="white"/>
          </svg>
          <span class="header__title">Local Guides Leaderboard</span>
        </a>

        <nav class="header__nav">
          <!-- 인증 로딩 중 -->
          <div class="header__auth-loading" id="authLoading">
            <div class="spinner spinner--small"></div>
          </div>

          <a href="register.html" class="btn btn--primary" id="registerBtn" hidden>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
              <circle cx="8.5" cy="7" r="4"/>
              <line x1="20" y1="8" x2="20" y2="14"/>
              <line x1="23" y1="11" x2="17" y2="11"/>
            </svg>
            <span>Join</span>
          </a>

          <!-- 로그인 전 -->
          <button class="btn btn--secondary" id="loginBtn" hidden>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"/>
              <polyline points="10 17 15 12 10 7"/>
              <line x1="15" y1="12" x2="3" y2="12"/>
            </svg>
            <span>Login</span>
          </button>

          <!-- 로그인 후 (숨김) -->
          <div class="header__user-dropdown" id="userMenu" hidden>
            <button class="header__user-trigger" id="userDropdownTrigger">
              <img class="header__avatar" id="userAvatar" src="" alt="User avatar">
              <span class="header__username" id="userName"></span>
              <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="6 9 12 15 18 9"/>
              </svg>
            </button>
            <div class="header__dropdown-menu" id="userDropdownMenu" hidden>
              <button class="header__dropdown-item" id="logoutBtn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                  <polyline points="16 17 21 12 16 7"/>
                  <line x1="21" y1="12" x2="9" y2="12"/>
                </svg>
                Logout
              </button>
              <button class="header__dropdown-item header__dropdown-item--danger" id="deleteAccountBtn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="3 6 5 6 21 6"/>
                  <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
                  <line x1="10" y1="11" x2="10" y2="17"/>
                  <line x1="14" y1="11" x2="14" y2="17"/>
                </svg>
                Delete Account
              </button>
            </div>
          </div>

          <!-- 관리자 전용 (숨김) -->
          <a href="admin.html" class="btn btn--icon" id="adminBtn" hidden aria-label="Admin panel">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="3"/>
              <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
            </svg>
          </a>

          <button class="btn btn--icon" id="themeToggle" aria-label="Toggle theme">
            <svg class="icon icon--sun" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="5"/>
              <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
            </svg>
            <svg class="icon icon--moon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
            </svg>
          </button>
        </nav>
      </div>
    </header>

    <!-- Main Content -->
    <main class="main">
      <div class="container">
        <!-- Hero Section -->
        <section class="hero">
          <h1 class="hero__title">Local Guides Leaderboard</h1>
          <p class="hero__subtitle">Google Maps 로컬 가이드들의 기여도를 추적하고 순위를 확인하세요</p>
          <div class="hero__update-wrapper">
            <p class="hero__update" id="lastUpdate">Last updated: -</p>
            <div class="hero__next-update" id="nextUpdate">
              <span class="hero__update-label">Next update in</span>
              <span class="hero__countdown" id="countdown">--:--:--</span>
            </div>
          </div>

          <!-- Quick Add Profile -->
          <div class="hero__quick-add">
            <div class="quick-add">
              <input
                type="url"
                class="quick-add__input"
                id="quickAddUrl"
                placeholder="https://www.google.com/maps/contrib/..."
                aria-label="Google Maps profile URL"
              >
              <button class="btn btn--primary quick-add__btn" id="quickAddBtn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <line x1="12" y1="5" x2="12" y2="19"/>
                  <line x1="5" y1="12" x2="19" y2="12"/>
                </svg>
                <span>Add Profile</span>
              </button>
            </div>
            <p class="quick-add__hint">Paste any Google Maps profile URL to add to the leaderboard</p>
          </div>
        </section>

        <!-- Controls -->
        <section class="controls">
          <div class="search-box">
            <svg class="search-box__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="11" cy="11" r="8"/>
              <path d="M21 21l-4.35-4.35"/>
            </svg>
            <input
              type="text"
              class="search-box__input"
              id="searchInput"
              placeholder="Search guides..."
              aria-label="Search guides"
            >
          </div>

          <div class="controls__filters">
            <div class="select-wrapper">
              <select id="sortBy" class="select" aria-label="Sort by">
                <option value="points">Sort by Points</option>
                <option value="level">Sort by Level</option>
                <option value="reviewCount">Sort by Reviews</option>
                <option value="photoViews">Sort by Photo Views</option>
                <option value="avgViewsPerPhoto">Sort by Avg Views/Photo</option>
              </select>
            </div>

            <div class="select-wrapper">
              <select id="filterLevel" class="select" aria-label="Filter by level">
                <option value="all">All Levels</option>
                <option value="10">Level 10</option>
                <option value="9">Level 9</option>
                <option value="8">Level 8</option>
                <option value="7">Level 7</option>
                <option value="6">Level 6</option>
                <option value="5">Level 5 & below</option>
              </select>
            </div>
          </div>
        </section>

        <!-- Leaderboard -->
        <section class="leaderboard" aria-label="Leaderboard">
          <div class="leaderboard__header">
            <button class="leaderboard__col leaderboard__col--rank leaderboard__sort-btn" data-sort="rank">
              #
              <svg class="sort-icon" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path class="sort-asc" d="M12 19V5M5 12l7-7 7 7"/>
                <path class="sort-desc" d="M12 5v14M5 12l7 7 7-7"/>
              </svg>
            </button>
            <span class="leaderboard__col leaderboard__col--user">Guide</span>
            <button class="leaderboard__col leaderboard__col--level leaderboard__sort-btn" data-sort="level">
              Lv
              <svg class="sort-icon" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path class="sort-asc" d="M12 19V5M5 12l7-7 7 7"/>
                <path class="sort-desc" d="M12 5v14M5 12l7 7 7-7"/>
              </svg>
            </button>
            <button class="leaderboard__col leaderboard__col--photo-views leaderboard__sort-btn active" data-sort="photoViews">
              Views
              <svg class="sort-icon" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path class="sort-asc" d="M12 19V5M5 12l7-7 7 7"/>
                <path class="sort-desc" d="M12 5v14M5 12l7 7 7-7"/>
              </svg>
            </button>
            <button class="leaderboard__col leaderboard__col--photos leaderboard__sort-btn" data-sort="photoCount">
              Photos
              <svg class="sort-icon" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path class="sort-asc" d="M12 19V5M5 12l7-7 7 7"/>
                <path class="sort-desc" d="M12 5v14M5 12l7 7 7-7"/>
              </svg>
            </button>
            <button class="leaderboard__col leaderboard__col--avg-views leaderboard__sort-btn" data-sort="avgViewsPerPhoto">
              V/P
              <svg class="sort-icon" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path class="sort-asc" d="M12 19V5M5 12l7-7 7 7"/>
                <path class="sort-desc" d="M12 5v14M5 12l7 7 7-7"/>
              </svg>
            </button>
            <button class="leaderboard__col leaderboard__col--points leaderboard__sort-btn" data-sort="points">
              Points
              <svg class="sort-icon" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path class="sort-asc" d="M12 19V5M5 12l7-7 7 7"/>
                <path class="sort-desc" d="M12 5v14M5 12l7 7 7-7"/>
              </svg>
            </button>
            <button class="leaderboard__col leaderboard__col--reviews leaderboard__sort-btn" data-sort="reviewCount">
              Reviews
              <svg class="sort-icon" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path class="sort-asc" d="M12 19V5M5 12l7-7 7 7"/>
                <path class="sort-desc" d="M12 5v14M5 12l7 7 7-7"/>
              </svg>
            </button>
          </div>

          <div class="leaderboard__body" id="leaderboardBody">
            <!-- Loading State -->
            <div class="leaderboard__loading" id="loadingState">
              <div class="spinner"></div>
              <p>Loading leaderboard...</p>
            </div>
          </div>

          <div class="leaderboard__empty" id="emptyState" hidden>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <circle cx="12" cy="12" r="10"/>
              <path d="M16 16s-1.5-2-4-2-4 2-4 2"/>
              <line x1="9" y1="9" x2="9.01" y2="9"/>
              <line x1="15" y1="9" x2="15.01" y2="9"/>
            </svg>
            <p>No guides found</p>
          </div>
        </section>

        <!-- Stats Overview -->
        <section class="stats" aria-label="Statistics overview">
          <div class="stat-card">
            <div class="stat-card__icon stat-card__icon--users">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                <circle cx="9" cy="7" r="4"/>
                <path d="M23 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75"/>
              </svg>
            </div>
            <div class="stat-card__content">
              <span class="stat-card__value" id="totalGuides">-</span>
              <span class="stat-card__label">Total Guides</span>
            </div>
          </div>

          <div class="stat-card">
            <div class="stat-card__icon stat-card__icon--points">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
              </svg>
            </div>
            <div class="stat-card__content">
              <span class="stat-card__value" id="totalPoints">-</span>
              <span class="stat-card__label">Total Points</span>
            </div>
          </div>

          <div class="stat-card">
            <div class="stat-card__icon stat-card__icon--reviews">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
              </svg>
            </div>
            <div class="stat-card__content">
              <span class="stat-card__value" id="totalReviews">-</span>
              <span class="stat-card__label">Total Reviews</span>
            </div>
          </div>

          <div class="stat-card">
            <div class="stat-card__icon stat-card__icon--photos">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                <circle cx="8.5" cy="8.5" r="1.5"/>
                <polyline points="21 15 16 10 5 21"/>
              </svg>
            </div>
            <div class="stat-card__content">
              <span class="stat-card__value" id="totalPhotos">-</span>
              <span class="stat-card__label">Total Photos</span>
            </div>
          </div>
        </section>
      </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <p>
          Made with passion for the Local Guides community.
          <br>
          Not affiliated with Google.
        </p>
        <p class="footer__links">
          <a href="https://github.com/notoow/google-maps-local-guides-leaderboards" target="_blank" rel="noopener">GitHub</a>
          <span>|</span>
          <a href="https://www.localguidesconnect.com/" target="_blank" rel="noopener">Local Guides Connect</a>
        </p>
      </div>
    </footer>

    <!-- Report Modal -->
    <div class="modal" id="reportModal" hidden>
      <div class="modal__backdrop"></div>
      <div class="modal__content">
        <div class="modal__header">
          <h2 class="modal__title">Report User</h2>
          <button class="modal__close" aria-label="Close modal">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="18" y1="6" x2="6" y2="18"/>
              <line x1="6" y1="6" x2="18" y2="18"/>
            </svg>
          </button>
        </div>
        <div class="modal__body">
          <input type="hidden" id="reportTargetId">
          <input type="hidden" id="reportTargetName">

          <div class="form-group">
            <label for="reportReason">Reason</label>
            <select id="reportReason" class="select">
              <option value="data_manipulation">Data manipulation</option>
              <option value="fake_screenshot">Fake screenshot</option>
              <option value="duplicate_account">Duplicate account</option>
              <option value="other">Other</option>
            </select>
          </div>

          <div class="form-group">
            <label for="reportDetail">Details (optional)</label>
            <textarea id="reportDetail" class="textarea" rows="4" placeholder="Provide additional details..."></textarea>
          </div>
        </div>
        <div class="modal__footer">
          <button class="btn btn--secondary" id="cancelReportBtn">Cancel</button>
          <button class="btn btn--primary" id="submitReportBtn">Submit Report</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script type="module" src="src/js/app.js"></script>
</body>
</html>
